Привести строку к lower(). Мы храним индекс начала предыдущего слова и длину предыдущего слова. Если в текущем слове есть буква а, значит выводим предыдущее слово